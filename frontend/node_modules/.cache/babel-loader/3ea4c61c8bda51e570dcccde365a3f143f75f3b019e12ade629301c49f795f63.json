{"ast":null,"code":"const _ = require('lodash');\nconst utils = require('./../utils');\nconst request = require('../request');\nconst endpoints = require('../endpoints');\nexports.CAPABILITIES = {\n  LIST_KEYS: 'listKeys',\n  WRITE_KEYS: 'writeKeys',\n  DELETE_KEYS: 'deleteKeys',\n  LIST_BUCKETS: 'listBuckets',\n  WRITE_BUCKETS: 'writeBuckets',\n  DELETE_BUCKETS: 'deleteBuckets',\n  LIST_FILES: 'listFiles',\n  READ_FILES: 'readFiles',\n  SHARE_FILES: 'shareFiles',\n  WRITE_FILES: 'writeFiles',\n  DELETE_FILES: 'deleteFiles'\n};\n\n/**\n * @param {B2}       b2\n * @param {object}   args\n * @param {string[]} args.capabilities\n * @param {string}   args.keyName\n * @param {number}   args.[validDurationInSeconds] - expire key after seconds\n * @param {string}   args.[bucketId] - restrict key access to bucket\n * @param {string}   args.[namePrefix] - restrict key access to files starting\n *                                       with prefix (bucketId required)\n */\nexports.create = function (b2, args) {\n  const options = {\n    url: endpoints(b2).createKeyUrl,\n    method: 'POST',\n    headers: utils.getAuthHeaderObjectWithToken(b2),\n    data: {\n      accountId: b2.accountId,\n      capabilities: args.capabilities,\n      keyName: args.keyName,\n      validDurationInSeconds: args.validDurationInSeconds,\n      bucketId: args.bucketId,\n      namePrefix: args.namePrefix\n    }\n  };\n  // merge order matters here: later objects override earlier objects\n  return request.sendRequest(_.merge({}, _.get(args, 'axios', {}), options, _.get(args, 'axiosOverride', {})));\n};\n\n/**\n * @param {B2}     b2\n * @param {object} args\n * @param {string} args.applicationKeyId\n */\nexports.delete = function (b2, args) {\n  const options = {\n    url: endpoints(b2).deleteKeyUrl,\n    method: 'POST',\n    headers: utils.getAuthHeaderObjectWithToken(b2),\n    data: {\n      applicationKeyId: args.applicationKeyId\n    }\n  };\n  // merge order matters here: later objects override earlier objects\n  return request.sendRequest(_.merge({}, _.get(args, 'axios', {}), options, _.get(args, 'axiosOverride', {})));\n};\n\n/**\n * @param {B2}     b2\n * @param {object} [args]\n * @param {number} args.[maxKeyCount]\n * @param {string} args.[startApplicationKeyId]\n */\nexports.list = function (b2, args) {\n  const maxKeyCount = args && args.maxKeyCount;\n  const startApplicationKeyId = args && args.startApplicationKeyId;\n  const options = {\n    url: endpoints(b2).listKeysUrl,\n    method: 'POST',\n    headers: utils.getAuthHeaderObjectWithToken(b2),\n    data: {\n      accountId: b2.accountId,\n      maxKeyCount,\n      startApplicationKeyId\n    }\n  };\n  // merge order matters here: later objects override earlier objects\n  return request.sendRequest(_.merge({}, _.get(args, 'axios', {}), options, _.get(args, 'axiosOverride', {})));\n};","map":{"version":3,"names":["_","require","utils","request","endpoints","exports","CAPABILITIES","LIST_KEYS","WRITE_KEYS","DELETE_KEYS","LIST_BUCKETS","WRITE_BUCKETS","DELETE_BUCKETS","LIST_FILES","READ_FILES","SHARE_FILES","WRITE_FILES","DELETE_FILES","create","b2","args","options","url","createKeyUrl","method","headers","getAuthHeaderObjectWithToken","data","accountId","capabilities","keyName","validDurationInSeconds","bucketId","namePrefix","sendRequest","merge","get","delete","deleteKeyUrl","applicationKeyId","list","maxKeyCount","startApplicationKeyId","listKeysUrl"],"sources":["/Users/chanakyaratnam/Library/Mobile Documents/com~apple~CloudDocs/Codes/b2-up-down/frontend/node_modules/backblaze-b2/lib/actions/key.js"],"sourcesContent":["const _ = require('lodash');\nconst utils = require('./../utils');\nconst request = require('../request');\nconst endpoints = require('../endpoints');\n\nexports.CAPABILITIES = {\n    LIST_KEYS: 'listKeys',\n    WRITE_KEYS: 'writeKeys',\n    DELETE_KEYS: 'deleteKeys',\n\n    LIST_BUCKETS: 'listBuckets',\n    WRITE_BUCKETS: 'writeBuckets',\n    DELETE_BUCKETS: 'deleteBuckets',\n\n    LIST_FILES: 'listFiles',\n    READ_FILES: 'readFiles',\n    SHARE_FILES: 'shareFiles',\n    WRITE_FILES: 'writeFiles',\n    DELETE_FILES: 'deleteFiles',\n};\n\n/**\n * @param {B2}       b2\n * @param {object}   args\n * @param {string[]} args.capabilities\n * @param {string}   args.keyName\n * @param {number}   args.[validDurationInSeconds] - expire key after seconds\n * @param {string}   args.[bucketId] - restrict key access to bucket\n * @param {string}   args.[namePrefix] - restrict key access to files starting\n *                                       with prefix (bucketId required)\n */\nexports.create = function(b2, args) {\n    const options = {\n        url: endpoints(b2).createKeyUrl,\n        method: 'POST',\n        headers: utils.getAuthHeaderObjectWithToken(b2),\n        data: {\n            accountId:              b2.accountId,\n            capabilities:           args.capabilities,\n            keyName:                args.keyName,\n            validDurationInSeconds: args.validDurationInSeconds,\n            bucketId:               args.bucketId,\n            namePrefix:             args.namePrefix,\n        }\n    };\n    // merge order matters here: later objects override earlier objects\n    return request.sendRequest(_.merge({},\n        _.get(args, 'axios', {}),\n        options,\n        _.get(args, 'axiosOverride', {})\n    ));\n};\n\n/**\n * @param {B2}     b2\n * @param {object} args\n * @param {string} args.applicationKeyId\n */\nexports.delete = function(b2, args) {\n    const options = {\n        url: endpoints(b2).deleteKeyUrl,\n        method: 'POST',\n        headers: utils.getAuthHeaderObjectWithToken(b2),\n        data: {\n            applicationKeyId: args.applicationKeyId,\n        }\n    };\n    // merge order matters here: later objects override earlier objects\n    return request.sendRequest(_.merge({},\n        _.get(args, 'axios', {}),\n        options,\n        _.get(args, 'axiosOverride', {})\n    ));\n};\n\n/**\n * @param {B2}     b2\n * @param {object} [args]\n * @param {number} args.[maxKeyCount]\n * @param {string} args.[startApplicationKeyId]\n */\nexports.list = function(b2, args) {\n    const maxKeyCount = args && args.maxKeyCount;\n    const startApplicationKeyId = args && args.startApplicationKeyId;\n\n    const options = {\n        url: endpoints(b2).listKeysUrl,\n        method: 'POST',\n        headers: utils.getAuthHeaderObjectWithToken(b2),\n        data: {\n            accountId: b2.accountId,\n            maxKeyCount,\n            startApplicationKeyId,\n        }\n    };\n    // merge order matters here: later objects override earlier objects\n    return request.sendRequest(_.merge({},\n        _.get(args, 'axios', {}),\n        options,\n        _.get(args, 'axiosOverride', {})\n    ));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}